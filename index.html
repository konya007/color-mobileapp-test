<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√¨m Nh√† Tr·ªç - ·ª®ng d·ª•ng t√¨m ki·∫øm nh√† tr·ªç</title>
    <link rel="stylesheet" href="./style.css">
    <style>
        :root {
            /* Light theme color variables */
            --background-primary: #f8f9fa;
            --background-secondary: #e9ecef;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --accent-color: #0d6efd;
            --accent-color-light: #cfe2ff;
            --success-color: #198754;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #0dcaf0;
            --border-color: #dee2e6;
        }

        [data-theme="dark"] {
            /* Dark theme color variables */
            --background-primary: #212529;
            --background-secondary: #343a40;
            --text-primary: #f8f9fa;
            --text-secondary: #adb5bd;
            --accent-color: #0d6efd;
            --accent-color-light: #0d47a1;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #0dcaf0;
            --border-color: #495057;
        }
    </style>
</head>
<body>
    <div class="status-bar">
        <span>20:45</span>
        <div>
            <span>üì∂</span>
            <span>üìä</span>
            <span>üîã</span>
        </div>
    </div>

    <div class="theme-toggle">
        <label class="toggle-switch">
            <input type="checkbox" id="themeToggle">
            <span class="toggle-slider"></span>
        </label>
        <span class="toggle-label">Ch·∫ø ƒë·ªô t·ªëi</span>
    </div>

    <!-- Trang ch·ªß -->
    <div class="page active" id="home-page">
        <div class="container">
            <header>
                <h1>T√¨m Nh√† Tr·ªç</h1>
                <p>·ª®ng d·ª•ng t√¨m ki·∫øm nh√† tr·ªç, ph√≤ng cho thu√™ nhanh ch√≥ng</p>
            </header>

            <div class="search-bar">
                <input type="text" placeholder="T√¨m ki·∫øm nh√† tr·ªç, chung c∆∞..." class="search-input">
                <button class="search-button"><i class="search-icon">üîç</i></button>
            </div>
            
            <div class="filter-tags">
                <span class="tag">G·∫ßn trung t√¢m</span>
                <span class="tag">D∆∞·ªõi 3 tri·ªáu</span>
                <span class="tag">Chung c∆∞ mini</span>
                <span class="tag">C√≥ g√°c l·ª≠ng</span>
                <span class="tag">Wifi mi·ªÖn ph√≠</span>
            </div>

            <!-- Rental Listing Posts -->
            <div class="post-card" onclick="navigateTo('detail-page')">
                <div class="post-header">
                    <img src="./assets/1.jpg" alt="Avatar" class="avatar">
                    <div class="post-info">
                        <h4 class="post-author">Nguy·ªÖn VƒÉn A</h4>
                        <span class="post-time">2 gi·ªù tr∆∞·ªõc</span>
                    </div>
                    <div class="post-menu">‚ãÆ</div>
                </div>
                <div class="post-content">
                    <p>Cho thu√™ ph√≤ng tr·ªç khu v·ª±c C·∫ßu Gi·∫•y, di·ªán t√≠ch 25m¬≤, c√≥ g√°c l·ª≠ng, kh√¥ng chung ch·ªß.</p>
                    <p class="price">2.800.000ƒë/th√°ng</p>
                    <p class="location"><i class="location-icon">üìç</i> C·∫ßu Gi·∫•y, H√† N·ªôi</p>
                </div>
                <div class="image-gallery">
                    <div class="image-slider">
                        <img src="./assets/1.jpg" alt="·∫¢nh ph√≤ng tr·ªç 1" class="gallery-image">
                        <img src="./assets/2.jpg" alt="·∫¢nh ph√≤ng tr·ªç 2" class="gallery-image">
                        <img src="./assets/3.jpg" alt="·∫¢nh ph√≤ng tr·ªç 3" class="gallery-image">
                    </div>
                    <div class="image-indicators">
                        <span class="indicator active"></span>
                        <span class="indicator"></span>
                        <span class="indicator"></span>
                    </div>
                </div>
                <div class="post-actions">
                    <button class="action-button"><i class="icon">‚ù§Ô∏è</i> Y√™u th√≠ch</button>
                    <button class="action-button"><i class="icon">üí¨</i> B√¨nh lu·∫≠n</button>
                    <button class="action-button"><i class="icon">üîó</i> Chia s·∫ª</button>
                </div>
                <div class="post-stats">
                    <span>15 l∆∞·ª£t th√≠ch</span> ‚Ä¢ <span>5 b√¨nh lu·∫≠n</span>
                </div>
            </div>

            <div class="post-card">
                <div class="post-header">
                    <img src="./assets/2.jpg" alt="Avatar" class="avatar">
                    <div class="post-info">
                        <h4 class="post-author">Tr·∫ßn Th·ªã B</h4>
                        <span class="post-time">5 gi·ªù tr∆∞·ªõc</span>
                    </div>
                    <div class="post-menu">‚ãÆ</div>
                </div>
                <div class="post-content">
                    <p>CƒÉn h·ªô mini cho thu√™ t·∫°i T√¢n B√¨nh, 35m¬≤, ƒë·∫ßy ƒë·ªß n·ªôi th·∫•t, an ninh 24/7.</p>
                    <p class="price">3.500.000ƒë/th√°ng</p>
                    <p class="location"><i class="location-icon">üìç</i> T√¢n B√¨nh, TP.HCM</p>
                </div>
                <div class="image-gallery">
                    <div class="image-slider">
                        <img src="./assets/4.jpg" alt="·∫¢nh cƒÉn h·ªô 1" class="gallery-image">
                        <img src="./assets/5.jpg" alt="·∫¢nh cƒÉn h·ªô 2" class="gallery-image">
                        <img src="./assets/6.jpg" alt="·∫¢nh cƒÉn h·ªô 3" class="gallery-image">
                    </div>
                    <div class="image-indicators">
                        <span class="indicator active"></span>
                        <span class="indicator"></span>
                        <span class="indicator"></span>
                    </div>
                </div>
                <div class="post-actions">
                    <button class="action-button"><i class="icon">‚ù§Ô∏è</i> Y√™u th√≠ch</button>
                    <button class="action-button"><i class="icon">üí¨</i> B√¨nh lu·∫≠n</button>
                    <button class="action-button"><i class="icon">üîó</i> Chia s·∫ª</button>
                </div>
                <div class="post-stats">
                    <span>23 l∆∞·ª£t th√≠ch</span> ‚Ä¢ <span>8 b√¨nh lu·∫≠n</span>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">Tin t·ª©c & M·∫πo</h3>
                <ul class="list">
                    <li class="list-item">M·∫πo t√¨m ph√≤ng tr·ªç gi√° r·∫ª <span class="badge badge-primary">M·ªõi</span></li>
                    <li class="list-item">Kinh nghi·ªám ƒë√†m ph√°n gi√° thu√™</li>
                    <li class="list-item">Nh·ªØng ƒëi·ªÅu c·∫ßn bi·∫øt khi k√Ω h·ª£p ƒë·ªìng thu√™ nh√†</li>
                    <li class="list-item">C√°ch nh·∫≠n bi·∫øt nh√† tr·ªç an to√†n</li>
                    <li class="list-item">Chia s·∫ª kinh nghi·ªám thu√™ nh√† l·∫ßn ƒë·∫ßu</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Trang t√¨m ki·∫øm -->
    <div class="page" id="search-page">
        <div class="container">
            <header>
                <h1>T√¨m ki·∫øm nh√† tr·ªç</h1>
                <p>T√πy ch·ªânh c√°c ti√™u ch√≠ ƒë·ªÉ t√¨m ki·∫øm</p>
            </header>

            <div class="search-bar">
                <input type="text" placeholder="Nh·∫≠p ƒë·ªãa ƒëi·ªÉm, t√™n ƒë∆∞·ªùng..." class="search-input">
                <button class="search-button"><i class="search-icon">üîç</i></button>
            </div>

            <div class="card">
                <h3 class="card-title">B·ªô l·ªçc t√¨m ki·∫øm</h3>
                <div class="form-group">
                    <label for="location">Khu v·ª±c</label>
                    <select id="location" class="form-control">
                        <option>Ch·ªçn khu v·ª±c</option>
                        <option>Qu·∫≠n C·∫ßu Gi·∫•y</option>
                        <option>Qu·∫≠n Hai B√† Tr∆∞ng</option>
                        <option>Qu·∫≠n ƒê·ªëng ƒêa</option>
                        <option>Qu·∫≠n Ho√†n Ki·∫øm</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="price">Gi√° thu√™</label>
                    <select id="price" class="form-control">
                        <option>Ch·ªçn kho·∫£ng gi√°</option>
                        <option>D∆∞·ªõi 2 tri·ªáu</option>
                        <option>2 - 3 tri·ªáu</option>
                        <option>3 - 5 tri·ªáu</option>
                        <option>Tr√™n 5 tri·ªáu</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="type">Lo·∫°i h√¨nh</label>
                    <select id="type" class="form-control">
                        <option>Ch·ªçn lo·∫°i h√¨nh</option>
                        <option>Ph√≤ng tr·ªç</option>
                        <option>CƒÉn h·ªô mini</option>
                        <option>Chung c∆∞</option>
                        <option>Nh√† nguy√™n cƒÉn</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="area">Di·ªán t√≠ch</label>
                    <select id="area" class="form-control">
                        <option>Ch·ªçn di·ªán t√≠ch</option>
                        <option>D∆∞·ªõi 20m¬≤</option>
                        <option>20 - 30m¬≤</option>
                        <option>30 - 50m¬≤</option>
                        <option>Tr√™n 50m¬≤</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Ti·ªán √≠ch</label>
                    <div class="filter-tags">
                        <span class="tag">Wifi</span>
                        <span class="tag">ƒêi·ªÅu h√≤a</span>
                        <span class="tag">N√≥ng l·∫°nh</span>
                        <span class="tag">G√°c l·ª≠ng</span>
                        <span class="tag">Ban c√¥ng</span>
                        <span class="tag">B·∫£o v·ªá</span>
                    </div>
                </div>
                <button class="btn btn-primary">√Åp d·ª•ng b·ªô l·ªçc</button>
            </div>

            <h3>K·∫øt qu·∫£ t√¨m ki·∫øm g·∫ßn ƒë√¢y</h3>
            <div class="post-card">
                <div class="post-header">
                    <img src="./assets/3.jpg" alt="Avatar" class="avatar">
                    <div class="post-info">
                        <h4 class="post-author">L√™ VƒÉn C</h4>
                        <span class="post-time">1 ng√†y tr∆∞·ªõc</span>
                    </div>
                    <div class="post-menu">‚ãÆ</div>
                </div>
                <div class="post-content">
                    <p>Ph√≤ng tr·ªç qu·∫≠n Hai B√† Tr∆∞ng, 20m¬≤, ƒëi·ªÅu h√≤a, n√≥ng l·∫°nh, gi·ªù gi·∫•c t·ª± do.</p>
                    <p class="price">2.500.000ƒë/th√°ng</p>
                    <p class="location"><i class="location-icon">üìç</i> Hai B√† Tr∆∞ng, H√† N·ªôi</p>
                </div>
                <div class="image-gallery">
                    <div class="image-slider">
                        <img src="./assets/5.jpg" alt="·∫¢nh ph√≤ng tr·ªç 1" class="gallery-image">
                        <img src="./assets/6.jpg" alt="·∫¢nh ph√≤ng tr·ªç 2" class="gallery-image">
                    </div>
                    <div class="image-indicators">
                        <span class="indicator active"></span>
                        <span class="indicator"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Trang chi ti·∫øt nh√† tr·ªç -->
    <div class="page" id="detail-page">
        <div class="rental-detail-header">
            <img src="./assets/1.jpg" alt="·∫¢nh chi ti·∫øt" class="detail-image">
            <button class="back-button" onclick="navigateTo('home-page')">‚Üê</button>
            <div class="gallery-count">1/5 ·∫£nh</div>
        </div>
        <div class="rental-detail-content">
            <div class="detail-price">2.800.000ƒë/th√°ng</div>
            <h2 class="detail-title">Ph√≤ng tr·ªç khu v·ª±c C·∫ßu Gi·∫•y, 25m¬≤, c√≥ g√°c l·ª≠ng</h2>
            <div class="detail-info">
                <div class="info-item">
                    <div class="info-value">25m¬≤</div>
                    <div>Di·ªán t√≠ch</div>
                </div>
                <div class="info-item">
                    <div class="info-value">1PN</div>
                    <div>Ph√≤ng ng·ªß</div>
                </div>
                <div class="info-item">
                    <div class="info-value">1WC</div>
                    <div>Ph√≤ng t·∫Øm</div>
                </div>
                <div class="info-item">
                    <div class="info-value">‚≠ê 4.5</div>
                    <div>ƒê√°nh gi√°</div>
                </div>
            </div>
            <div class="detail-section">
                <h3>M√¥ t·∫£</h3>
                <p>Cho thu√™ ph√≤ng tr·ªç khu v·ª±c C·∫ßu Gi·∫•y, di·ªán t√≠ch 25m¬≤, c√≥ g√°c l·ª≠ng, kh√¥ng chung ch·ªß. Ph√≤ng m·ªõi x√¢y, s·∫°ch s·∫Ω, tho√°ng m√°t. Khu v·ª±c an ninh, g·∫ßn tr∆∞·ªùng ƒë·∫°i h·ªçc, si√™u th·ªã, ch·ª£...</p>
                <p>C∆° s·ªü v·∫≠t ch·∫•t ƒë·∫ßy ƒë·ªß: ƒëi·ªÅu h√≤a, n√≥ng l·∫°nh, t·ªß qu·∫ßn √°o, k·ªá b·∫øp. Internet v√† n∆∞·ªõc sinh ho·∫°t mi·ªÖn ph√≠. Gi·ªù gi·∫•c t·ª± do, kh√¥ng chung ch·ªß.</p>
            </div>
            <div class="detail-section">
                <h3>Ti·ªán √≠ch</h3>
                <div class="amenities">
                    <div class="amenity"><span class="amenity-icon">üöø</span> N√≥ng l·∫°nh</div>
                    <div class="amenity"><span class="amenity-icon">‚ùÑÔ∏è</span> ƒêi·ªÅu h√≤a</div>
                    <div class="amenity"><span class="amenity-icon">üåê</span> Internet</div>
                    <div class="amenity"><span class="amenity-icon">üè†</span> G√°c l·ª≠ng</div>
                    <div class="amenity"><span class="amenity-icon">üõãÔ∏è</span> C√≥ n·ªôi th·∫•t</div>
                    <div class="amenity"><span class="amenity-icon">üö™</span> WC ri√™ng</div>
                </div>
            </div>
            <div class="detail-section">
                <h3>V·ªã tr√≠</h3>
                <p><i class="location-icon">üìç</i> C·∫ßu Gi·∫•y, H√† N·ªôi</p>
                <div style="background-color: var(--background-secondary); height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-top: 10px;">
                    <span>B·∫£n ƒë·ªì v·ªã tr√≠</span>
                </div>
            </div>
            <div class="detail-section">
                <h3>Li√™n h·ªá ch·ªß tr·ªç</h3>
                <div class="post-header" style="margin-bottom: 0;">
                    <img src="./assets/1.jpg" alt="Avatar" class="avatar">
                    <div class="post-info">
                        <h4 class="post-author">Nguy·ªÖn VƒÉn A</h4>
                        <span class="post-time">Ph·∫£n h·ªìi nhanh</span>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 15px;">G·ªçi</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Trang c√° nh√¢n -->
    <div class="page" id="profile-page">
        <div class="container">
            <div class="profile-header">
                <img src="./assets/1.jpg" alt="Avatar" class="profile-avatar">
                <h2 class="profile-name">Nguy·ªÖn VƒÉn Ng∆∞·ªùi D√πng</h2>
                <p class="profile-bio">Ng∆∞·ªùi ƒëi thu√™ nh√† | ƒêang s·ªëng t·∫°i H√† N·ªôi</p>
                <button class="btn btn-primary">Ch·ªânh s·ª≠a h·ªì s∆°</button>
                <div class="profile-stats">
                    <div class="stat-item">
                        <div class="stat-value">7</div>
                        <div class="stat-label">ƒê√£ ƒëƒÉng</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Y√™u th√≠ch</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">4.8</div>
                        <div class="stat-label">ƒê√°nh gi√°</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">C√†i ƒë·∫∑t t√†i kho·∫£n</h3>
                <ul class="list">
                    <li class="list-item">Th√¥ng tin c√° nh√¢n</li>
                    <li class="list-item">Th√¥ng b√°o</li>
                    <li class="list-item">B·∫£o m·∫≠t</li>
                    <li class="list-item">Ph∆∞∆°ng th·ª©c thanh to√°n</li>
                    <li class="list-item">Tr·ª£ gi√∫p & H·ªó tr·ª£</li>
                    <li class="list-item">V·ªÅ ·ª©ng d·ª•ng</li>
                    <li class="list-item" style="color: var(--danger-color);">ƒêƒÉng xu·∫•t</li>
                </ul>
            </div>

            <div class="card">
                <h3 class="card-title">Tin ƒë√£ ƒëƒÉng</h3>
                <div class="post-card" style="box-shadow: none; padding: 0; margin-bottom: 0;">
                    <div class="post-content">
                        <p>T√¨m ng∆∞·ªùi ·ªü gh√©p t·∫°i ƒê·ªëng ƒêa, 1.2 tri·ªáu/th√°ng, ·ªü v·ªõi 2 b·∫°n n·ªØ.</p>
                        <p class="price">1.200.000ƒë/th√°ng</p>
                        <p class="location"><i class="location-icon">üìç</i> ƒê·ªëng ƒêa, H√† N·ªôi</p>
                    </div>
                    <div class="post-stats">
                        <span>ƒêƒÉng 2 tu·∫ßn tr∆∞·ªõc</span> ‚Ä¢ <span>15 l∆∞·ª£t xem</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom navigation for mobile -->
    <div class="bottom-nav">
        <a href="#" class="nav-item active" onclick="navigateTo('home-page')">
            <div class="nav-icon">üè†</div>
            <div>Trang ch·ªß</div>
        </a>
        <a href="#" class="nav-item" onclick="navigateTo('search-page')">
            <div class="nav-icon">üîç</div>
            <div>T√¨m ki·∫øm</div>
        </a>
        <a href="#" class="nav-item">
            <div class="nav-icon">‚ûï</div>
            <div>ƒêƒÉng tin</div>
        </a>
        <a href="#" class="nav-item">
            <div class="nav-icon">‚ù§Ô∏è</div>
            <div>Y√™u th√≠ch</div>
        </a>
        <a href="#" class="nav-item" onclick="navigateTo('profile-page')">
            <div class="nav-icon">üë§</div>
            <div>C√° nh√¢n</div>
        </a>
    </div>

    <!-- Dev tool for color testing -->
    <button class="dev-tool" id="devToolToggle">üé®</button>
    
    <!-- Color editor panel -->
    <div class="color-editor" id="colorEditor">
        <h2>T√πy ch·ªânh m√†u s·∫Øc</h2>
        <p>Thay ƒë·ªïi m√†u s·∫Øc v√† xem tr∆∞·ªõc k·∫øt qu·∫£ ngay l·∫≠p t·ª©c</p>
        
        <div id="colorControls">
            <!-- Color inputs will be added here by JavaScript -->
        </div>
        
        <div class="color-editor-actions">
            <button style="background-color: var(--danger-color); color: white;" id="resetColors">Kh√¥i ph·ª•c m·∫∑c ƒë·ªãnh</button>
            <button style="background-color: var(--success-color); color: white;" id="applyColors">√Åp d·ª•ng</button>
            <button style="background-color: var(--border-color); color: var(--text-primary);" id="closeEditor">ƒê√≥ng</button>
        </div>
    </div>

    <script>
        // Toggle between light and dark theme
        document.getElementById('themeToggle').addEventListener('change', function() {
            if(this.checked) {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            } else {
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
            }
        });
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            document.getElementById('themeToggle').checked = true;
        }
        
        // Navigation between pages
        function navigateTo(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update navigation items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Find matching nav item and activate it
            const pageToNavMap = {
                'home-page': 0,
                'search-page': 1,
                'profile-page': 4
            };
            
            const navIndex = pageToNavMap[pageId];
            if (navIndex !== undefined) {
                document.querySelectorAll('.nav-item')[navIndex].classList.add('active');
            }
        }
        
        // Dev tool for color testing
        const devToolToggle = document.getElementById('devToolToggle');
        const colorEditor = document.getElementById('colorEditor');
        const colorControls = document.getElementById('colorControls');
        const resetColorsBtn = document.getElementById('resetColors');
        const applyColorsBtn = document.getElementById('applyColors');
        const closeEditorBtn = document.getElementById('closeEditor');
        
        // Default color values
        const defaultLightColors = {
            '--background-primary': '#f8f9fa',
            '--background-secondary': '#e9ecef',
            '--text-primary': '#212529',
            '--text-secondary': '#6c757d',
            '--accent-color': '#0d6efd',
            '--accent-color-light': '#cfe2ff',
            '--success-color': '#198754',
            '--warning-color': '#ffc107',
            '--danger-color': '#dc3545',
            '--info-color': '#0dcaf0',
            '--border-color': '#dee2e6'
        };
        
        const defaultDarkColors = {
            '--background-primary': '#212529',
            '--background-secondary': '#343a40',
            '--text-primary': '#f8f9fa',
            '--text-secondary': '#adb5bd',
            '--accent-color': '#0d6efd',
            '--accent-color-light': '#0d47a1',
            '--success-color': '#28a745',
            '--warning-color': '#ffc107',
            '--danger-color': '#dc3545',
            '--info-color': '#0dcaf0',
            '--border-color': '#495057'
        };
        
        // Load custom colors from localStorage
        function loadCustomColors() {
            const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
            const savedColors = localStorage.getItem(`customColors_${theme}`);
            
            if (savedColors) {
                const colors = JSON.parse(savedColors);
                Object.keys(colors).forEach(varName => {
                    document.documentElement.style.setProperty(varName, colors[varName]);
                });
            }
        }
        
        // Initialize color controls in the editor
        function initColorControls() {
            colorControls.innerHTML = '';
            const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
            const defaultColors = theme === 'dark' ? defaultDarkColors : defaultLightColors;
            const savedColors = localStorage.getItem(`customColors_${theme}`);
            const currentColors = savedColors ? JSON.parse(savedColors) : defaultColors;
            
            Object.keys(defaultColors).forEach(varName => {
                const currentValue = currentColors[varName] || defaultColors[varName];
                const varNameFormatted = varName.replace('--', '').replace(/-/g, ' ');
                
                const controlGroup = document.createElement('div');
                controlGroup.className = 'color-picker-group';
                
                const label = document.createElement('label');
                label.textContent = varNameFormatted;
                label.for = `color_${varName}`;
                
                const colorInput = document.createElement('input');
                colorInput.type = 'color';
                colorInput.id = `color_${varName}`;
                colorInput.value = currentValue;
                colorInput.dataset.var = varName;
                
                const preview = document.createElement('div');
                preview.className = 'color-sample-preview';
                preview.style.backgroundColor = currentValue;
                
                const textInput = document.createElement('input');
                textInput.type = 'text';
                textInput.value = currentValue;
                textInput.dataset.var = varName;
                
                // Update color on change
                colorInput.addEventListener('input', function() {
                    const value = this.value;
                    const varName = this.dataset.var;
                    document.documentElement.style.setProperty(varName, value);
                    preview.style.backgroundColor = value;
                    textInput.value = value;
                });
                
                // Update from text input
                textInput.addEventListener('input', function() {
                    const value = this.value;
                    const varName = this.dataset.var;
                    try {
                        document.documentElement.style.setProperty(varName, value);
                        preview.style.backgroundColor = value;
                        colorInput.value = value;
                    } catch (e) {
                        // Invalid color format
                    }
                });
                
                controlGroup.appendChild(label);
                controlGroup.appendChild(colorInput);
                controlGroup.appendChild(preview);
                controlGroup.appendChild(textInput);
                colorControls.appendChild(controlGroup);
            });
        }
        
        // Save current colors to localStorage
        function saveCurrentColors() {
            const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
            const colors = {};
            
            Object.keys(theme === 'dark' ? defaultDarkColors : defaultLightColors).forEach(varName => {
                colors[varName] = getComputedStyle(document.documentElement).getPropertyValue(varName).trim();
            });
            
            localStorage.setItem(`customColors_${theme}`, JSON.stringify(colors));
        }
        
        // Reset colors to default
        function resetColors() {
            const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
            const defaultColors = theme === 'dark' ? defaultDarkColors : defaultLightColors;
            
            Object.keys(defaultColors).forEach(varName => {
                document.documentElement.style.setProperty(varName, defaultColors[varName]);
            });
            
            // Remove saved custom colors
            localStorage.removeItem(`customColors_${theme}`);
            
            // Reinitialize controls
            initColorControls();
        }
        
        // Toggle dev tool
        devToolToggle.addEventListener('click', function() {
            colorEditor.classList.add('active');
            initColorControls();
        });
        
        // Close color editor
        closeEditorBtn.addEventListener('click', function() {
            colorEditor.classList.remove('active');
            loadCustomColors(); // Reset to saved colors if canceled
        });
        
        // Reset colors
        resetColorsBtn.addEventListener('click', resetColors);
        
        // Apply colors
        applyColorsBtn.addEventListener('click', function() {
            saveCurrentColors();
            colorEditor.classList.remove('active');
        });
        
        // Load saved colors on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadCustomColors();
        });
        
        // Listen for theme changes to load proper colors
        document.getElementById('themeToggle').addEventListener('change', function() {
            // Wait a bit for the theme to be updated
            setTimeout(loadCustomColors, 50);
        });
    </script>
</body>
</html>
